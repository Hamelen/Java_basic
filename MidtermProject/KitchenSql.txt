CREATE TABLE "MEMBER" (
	"ID"	VARCHAR2(100) CONSTRAINT M_ID_PK PRIMARY KEY,
	"PASSWORD"	VARCHAR2(100) NOT NULL,
	"NAME"	VARCHAR2(100)		NULL,
	"EMAIL"	VARCHAR2(100) NOT NULL,
	"PHONE"	VARCHAR2(100)	NULL
)

CREATE TABLE "PARTNER" (
	"PARTNERNUM"	NUMBER CONSTRAINT PT_PTN_PK PRIMARY KEY,
	"ID"	VARCHAR2(100) CONSTRAINT PT_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"PARTNEREMAIL"	VARCHAR2(100)	NULL,
	"PARTNERADDRESS"	VARCHAR2(100)		NULL,
	"PARTNERACCOUNT"	NUMBER		NULL,
	"PARTNERDATE"	DATE		NULL,
	"PARTNERNAME"	VARCHAR2(100)		NULL
)

CREATE TABLE "PRODUCT" (
	"PRODUCTNUM"	NUMBER CONSTRAINT P_PN_PK PRIMARY KEY,
	"PARTNERNUM"	NUMBER CONSTRAINT PT_PTN_FK REFERENCES PARTNER(PARTNERNUM) ON DELETE CASCADE,
	"REGDATE"	DATE		NULL,
	"ADDRESS" VARCHAR2(100)	NULL,
	"TELL"	NUMBER		NULL,
	"PRICE"	NUMBER		NULL,
	"CONTENTS"	CLOB		NULL,
	"FILENUM"	NUMBER		NULL
)

CREATE TABLE "BOOK" (
	"ORDERNUM"	NUMBER CONSTRAINT R_ON_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT R_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100) CONSTRAINT R_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"CHOICE"	NUMBER		NOT NULL,
	"CONTENTS"	CLOB		NULL,
	"HEADCOUNT"	NUMBER		NULL,
	"PURPOSE"	VARCHAR2(100)		NULL,
	"STARTTIME"	DATE	NOT NULL,
	"ENDTIME"	DATE	NOT NULL,
	"CHECK"	NUMBER		NOT NULL
)

CREATE TABLE "ROLE" (
	"ROLENUM"	NUMBER CONSTRAINT R_RN_PK PRIMARY KEY,
	"ROLENAME"	VARCHAR2(100)		NULL
)

CREATE TABLE "MEMBERROLE" (
	"ID"	VARCHAR2(100) CONSTRAINT MR_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"ROLENUM"	NUMBER CONSTRAINT MR_RN_FK REFERENCES ROLE(ROLENUM) ON DELETE CASCADE,
    PRIMARY KEY (ID,ROLENUM)   
)

CREATE TABLE "PRODUCTFILE" (
	"FILENUM"	NUMBER CONSTRAINT PF_FN_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT PF_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"FILENAME"	VARCHAR2(200)		NULL,
	"ORIGINALNAME"	VARCHAR2(200)		NULL
)

CREATE TABLE "REVIEW" (
	"REVIEWNUM"	NUMBER CONSTRAINT RV_RVN_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT RV_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100) CONSTRAINT RV_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"REVIEWCONTENTS"	CLOB		NULL,
	"REVIEWDATE"	DATE		NULL
)

CREATE TABLE "REVIEWFILE" (
	"FILENUM"	NUMBER CONSTRAINT RF_FN_PK PRIMARY KEY,
	"REVIEWNUM"	NUMBER CONSTRAINT RF_RVN_FK REFERENCES REVIEW(REVIEWNUM) ON DELETE CASCADE,
	"FILENAME"	VARCHAR2(200)		NULL,
	"ORIGINALNAME"	VARCHAR2(200)		NULL
)

CREATE TABLE "NOTICE" (
	"NOTICENUM"	NUMBER CONSTRAINT N_NN_PK PRIMARY KEY,
	"ID"	VARCHAR2(100) CONSTRAINT N_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"NOTICETITLE"	VARCHAR2(100)		NULL,
	"NOTICECONTENTS"	CLOB		NULL,
	"NOTICEDATE"	DATE		NULL
)

CREATE TABLE "OFTENQNA" (
	"OFTENNUM"	NUMBER CONSTRAINT OQ_ON_PK PRIMARY KEY,
	"ID"	VARCHAR2(100) CONSTRAINT OQ_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"OFTENTITLE"	VARCHAR2(100)		NULL,
	"OFTENCONTENTS"	CLOB		NULL
)

CREATE TABLE "PAYMENT" (
	"PAYNUM"	NUMBER CONSTRAINT P_P_PK PRIMARY KEY,
	"ORDERNUM"	NUMBER CONSTRAINT P_ON_FK REFERENCES BOOK(ORDERNUM) ON DELETE CASCADE,
	"PRODUCTNUM"	NUMBER CONSTRAINT P_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100)		NOT NULL,
	"PAYDATE"	DATE		NULL,
	"PAYAMOUNT"	NUMBER		NULL,
	"PAYSTATE"	NUMBER		NULL
)

CREATE TABLE "QUESTION" (
	"QUESTIONNUM"	NUMBER CONSTRAINT Q_QN_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT Q_QN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100) CONSTRAINT Q_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"QUESTIONCONTENTS"	CLOB		NULL,
	"QUESTIONDATE"	DATE		NULL
)


CREATE SEQUENCE PRODUCT_SEQ;  
CREATE SEQUENCE BOOK_SEQ;
CREATE SEQUENCE PAY_SEQ;
CREATE SEQUENCE REVIEW_SEQ;
CREATE SEQUENCE QUESTION_SEQ;
CREATE SEQUENCE NOTICE_SEQ;
CREATE SEQUENCE QNA_SEQ;
CREATE SEQUENCE ROLE_SEQ;
CREATE SEQUENCE FILE_SEQ;
CREATE SEQUENCE RFILE_SEQ;
