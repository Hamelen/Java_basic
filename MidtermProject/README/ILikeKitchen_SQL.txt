
CREATE TABLE "MEMBER" (
	"ID"	VARCHAR2(100) CONSTRAINT M_ID_PK PRIMARY KEY,
	"PASSWORD"	VARCHAR2(100)  NULL,
	"NAME"	VARCHAR2(100)   NULL,
	"EMAIL"	VARCHAR2(100) CONSTRAINT M_E_FK REFERENCES SNSMEMBER(SNSEMAIL),
	"PHONE"	VARCHAR2(100)	NULL,
)

CREATE TABLE "PARTNER" (
	"PARTNERNUM"	NUMBER CONSTRAINT PT_PTN_PK PRIMARY KEY,
	"ID"	VARCHAR2(100) CONSTRAINT PT_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"PARTNEREMAIL"	VARCHAR2(100)	NULL,
	"PARTNERACCOUNT"	NUMBER		NULL,
	"PARTNERDATE"	DATE		NULL,
	"PARTNERNAME"	VARCHAR2(100)		NULL,
	"COMPANYNAME"	VARCHAR2(100)		NULL,
	"PARTNERPHONE"	VARCHAR2(100)		NULL,
	"PARTNERCHECK"	VARCHAR2(1)		NULL
)

CREATE TABLE "PRODUCT" (
	"PRODUCTNUM"	NUMBER CONSTRAINT P_PN_PK PRIMARY KEY,
	"PARTNERNUM"	NUMBER CONSTRAINT PT_PTN_FK REFERENCES PARTNER(PARTNERNUM) ON DELETE CASCADE,
	"PRODUCTNAME"	VARCHAR2(100)		NULL,
	"REGDATE"	DATE		NULL,
	"PHONE"	VARCHAR2(20)		NULL,
	"PRICE"	NUMBER		NULL,
	"CONTENTS"	CLOB		NULL,
	"ADDRESS"	VARCHAR2(100)		NULL
)

CREATE TABLE "BOOK" (
	"BOOKNUM"	NUMBER CONSTRAINT R_ON_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT R_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100) CONSTRAINT R_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"CONTENTS"	CLOB		NULL,
	"HEADCOUNT"	NUMBER		NULL,
	"PURPOSE"	VARCHAR2(100)		NULL,
	"STARTTIME"	DATE	 NULL,
	"ENDTIME"	DATE	 NULL,
	"BOOKCHECK"	VARCHAR2(1)	 NULL,
	"BOOKDATE"	DATE		NULL
)


CREATE TABLE "ROLE" (
	"ROLENUM"	NUMBER CONSTRAINT R_RN_PK PRIMARY KEY,
	"ROLENAME"	VARCHAR2(100)		NULL
)

CREATE TABLE "MEMBERROLE" (
	"ID"	VARCHAR2(100) CONSTRAINT MR_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"ROLENUM"	NUMBER CONSTRAINT MR_RN_FK REFERENCES ROLE(ROLENUM) ON DELETE CASCADE,
    PRIMARY KEY (ID,ROLENUM)   
)

CREATE TABLE "PRODUCTFILE" (
	"FILENUM"	NUMBER CONSTRAINT PF_FN_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT PF_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"FILENAME"	VARCHAR2(200)		NULL,
	"ORIGINALNAME"	VARCHAR2(200)		NULL
)

CREATE TABLE "REVIEW" (
	"REVIEWNUM"	NUMBER CONSTRAINT RV_RVN_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT RV_PN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100) CONSTRAINT RV_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"REVIEWRATE"	NUMBER		NULL,
	"REVIEWCONTENTS"	CLOB		NULL,
	"REVIEWDATE"	DATE		NULL
)

CREATE TABLE "REVIEWFILE" (
	"FILENUM"	NUMBER CONSTRAINT RF_FN_PK PRIMARY KEY,
	"REVIEWNUM"	NUMBER CONSTRAINT RF_RVN_FK REFERENCES REVIEW(REVIEWNUM) ON DELETE CASCADE,
	"FILENAME"	VARCHAR2(200)		NULL,
	"ORIGINALNAME"	VARCHAR2(200)		NULL
)

CREATE TABLE "NOTICE" (
	"NOTICENUM"	NUMBER CONSTRAINT N_NN_PK PRIMARY KEY,
	"ID"	VARCHAR2(100) CONSTRAINT N_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"NOTICETITLE"	VARCHAR2(100)		NULL,
	"NOTICECONTENTS"	CLOB		NULL,
	"NOTICEDATE"	DATE		NULL,
)

CREATE TABLE "PAYMENT" (
	"PAYNUM"	NUMBER CONSTRAINT P_P_PK PRIMARY KEY,
	"BOOKNUM"	NUMBER CONSTRAINT P_ON_FK REFERENCES BOOK(BOOKNUM) ON DELETE CASCADE,
	"PAYDATE"	DATE		NULL,
	"PAYAMOUNT"	NUMBER		NULL
)

CREATE TABLE "QUESTION" (
	"QUESTIONNUM"	NUMBER CONSTRAINT Q_QN_PK PRIMARY KEY,
	"PRODUCTNUM"	NUMBER CONSTRAINT Q_QN_FK REFERENCES PRODUCT(PRODUCTNUM) ON DELETE CASCADE,
	"ID"	VARCHAR2(100) CONSTRAINT Q_ID_FK REFERENCES MEMBER(ID) ON DELETE CASCADE,
	"QUESTIONKIND"	VARCHAR2(20)		NULL,
	"QUESTIONCONTENTS"	CLOB		NULL,
	"QUESTIONDATE"	DATE		NULL
)

CREATE TABLE "REFUND" (
	"REFUNDNUM"	NUMBER CONSTRAINT RF_RN_PK PRIMARY KEY,
	"PAYNUM"	NUMBER CONSTRAINT RF_PN_FK REFERENCES PAYMENT(PAYNUM) ON DELETE CASCADE,
	"REFUNDAMOUNT"	NUMBER		NULL,
	"REFUNDDATE"	DATE		NULL,
	"REFUNDREASON"	VARCHAR2(200)		NULL,
	"REFUNDCHECK"	VARCHAR2(1)		NULL
)

CREATE TABLE "SNSMEMBER" (
	"SNSID"  VARCHAR2(100) CONSTRAINT SM_SI_PK PRIMARY KEY,
	"PLATFORM"	VARCHAR2(10) NULL,
	"SNSNAME"         VARCHAR2(100) NULL,
	"SNSEMAIL"	VARCHAR2(100) UNIQUE
)
ALTER TABLE SNSMEMBER MODIFY (SNSEMAIL CONSTRAINT SNSEMAIL_CON NOT NULL);


CREATE TABLE "NOTICEFILE" (
	"FILENUM"	NUMBER CONSTRAINT NF_FN_PK PRIMARY KEY,
	"NOTICENUM"	NUMBER CONSTRAINT NF_NN_FK REFERENCES NOTICE(NOTICENUM) ON DELETE CASCADE,
	"FILENAME"	VARCHAR2(200)		NULL,
	"ORIGINALNAME"	VARCHAR2(200)		NULL
)


CREATE SEQUENCE PRODUCT_SEQ;
CREATE SEQUENCE BOOK_SEQ;
CREATE SEQUENCE REVIEW_SEQ;
CREATE SEQUENCE QUESTION_SEQ;
CREATE SEQUENCE NOTICE_SEQ;
CREATE SEQUENCE ROLE_SEQ;
CREATE SEQUENCE FILE_SEQ;
CREATE SEQUENCE RFILE_SEQ;
CREATE SEQUENCE REFUND_SEQ;
CREATE SEQUENCE NFILE_SEQ;


------ 시퀀스 안쓰는 테이블 총 5개 ---------

-- 파트너-PARTNER(사업자등록번호)
-- 회원-MEMBER(ID가 PK)
-- 회원역할-MEMBERROLE(복합키가 PK)
-- 결제-PAYMENT는 IMP_UID가 PK
-- SNS회원-SNSMEMBER는 EMAIL이 PK 

-----------------------------------



----------- INSERT 문 --------------------

-- MEMBER 
INSERT INTO MEMBER VALUES ('id1', '123123','남궁태윤','111@naver.com','01011111111');
INSERT INTO MEMBER VALUES ('id2', '123123','송승윤','222@naver.com','01022222222');
INSERT INTO MEMBER VALUES ('id3', '123123','한종진','333@naver.com','01033333333');
INSERT INTO MEMBER VALUES ('444@naver.com', '123123','장재환','444@naver.com','01044444444');
INSERT INTO MEMBER VALUES ('555@kakao.com', '123123','문선화','555@kakao.com','01055555555');
INSERT INTO MEMBER VALUES ('666@naver.com', '123123','신규하','666@naver.com','01066666666');

-- ROLE
INSERT INTO ROLE VALUES (ROLE_SEQ.NEXTVAL, 'MEMBER');
INSERT INTO ROLE VALUES (ROLE_SEQ.NEXTVAL, 'PARTNER');
INSERT INTO ROLE VALUES (ROLE_SEQ.NEXTVAL, 'ADMIN');

-- MEMBERROLE
INSERT INTO MEMBERROLE ROLE VALUES ('id1', '1');
INSERT INTO MEMBERROLE ROLE VALUES ('id2', '1');
INSERT INTO MEMBERROLE ROLE VALUES ('id3', '1');
INSERT INTO MEMBERROLE ROLE VALUES ('id4', '1');
INSERT INTO MEMBERROLE ROLE VALUES ('id5', '1');
INSERT INTO MEMBERROLE ROLE VALUES ('id6', '1');

-- PARTNER
INSERT INTO MEMBER VALUES ('id7', '123123','이준왕','777@naver.com','01077777777');
INSERT INTO MEMBERROLE ROLE VALUES ('id7', '1');
INSERT INTO PARTNER VALUES ('2211653390','id7','777@naver.com','3423546489952',SYSDATE,'이준왕','돈주앙','01077777777','1');
INSERT INTO MEMBERROLE ROLE VALUES ('id7', '2');

INSERT INTO MEMBER VALUES ('id8', '123123','이소주','888@naver.com','01088888888');
INSERT INTO MEMBERROLE ROLE VALUES ('id8', '1');
INSERT INTO PARTNER VALUES ('4068502289','id7','777@naver.com','64509658602511',SYSDATE,'이소주','그린히어로','01088888888','0');
INSERT INTO MEMBERROLE ROLE VALUES ('id8', '2');

INSERT INTO MEMBER VALUES ('id9', '123123','박대현','999@naver.com','01099999999');
INSERT INTO MEMBERROLE ROLE VALUES ('id9', '1');
INSERT INTO PARTNER VALUES ('3252701434','id9','999@naver.com','0967910342085',SYSDATE,'박대현','젊은이의 양지 쿠킹 스튜디오','01099999999','0');
INSERT INTO MEMBERROLE ROLE VALUES ('id9', '2');


-- (관리자 추가)
INSERT INTO MEMEBER VALUES ('admin68','admin123','김찬혁','kch@naver.com','01035367687')
INSERT INTO MEMBERROLE ROLE VALUES ('admin68', '1');
INSERT INTO MEMBERROLE ROLE VALUES ('admin68', '2');
INSERT INTO MEMBERROLE ROLE VALUES ('admin68', '3');

-- PRODUCT
INSERT INTO PRODUCT VALUES(PRODUCT_SEQ.NEXTVAL, '2211653390','돈주앙 파티룸',SYSDATE,'01077777777','950000',	'10인까지 수용가능한 14평의 단독공간<br>100인치 스크린 빔프로젝터(고화질, 핸드폰 미러링 가능, hdmi 노트북 연결가능)<br>블루투스 스피커<br>냉난방 에어컨 구비+바닥난방 가능<br>무선와이파이<br>냉장고(냉장, 냉동실 구비)<br>조리가 가능한 하이라이터(2구)<br>싱크대<br>기본식기 및 컵<br>전자레인지<br>각종조리도구<br>거울 포토존 (전신거울)<br>옷걸이<br>라운지소파 및 테이블<br>바 테이블 (6인 착석가능)<br>루프탑 공간(남산타워뷰, 힐튼뷰)<br>내부 화장실 구비<br>다양한 조명 연출 가능(은은한 선셋조명 구비)<br>화장실 단독 사용','서울특별시 용산구 소월로2길 11 5층');
INSERT INTO PRODUCT VALUES(PRODUCT_SEQ.NEXTVAL, '4068502289','그린히어로 소셜키친',SYSDATE,'01088888888','217000',	'<span style="color: rgb(87, 87, 87); font-family: Regular, sans-serif; font-size: 16px; letter-spacing: -0.8px; white-space-collapse: preserve;">푸드스타일리스트가 운영하는 쿠킹스튜디오로<br>촬영에 필요한 소품, 집기등이 다양하게 준비되어 있으며<br>공간활용도가 높아 레시피촬영, 유튜브촬영, 쿠킹클래스 등<br>다양하게 이용 가능합니다.<br>- 6인용 테이블 1개, 4인+2인 테이블 1개,<br>원목 이동형 아일랜드(바퀴)<br>- 냉장고,가스레인지, 인덕션+하이라이트, 스메그 오븐, 전자레인지, 전기밥솥,믹서기, 전기포트, 기본조리도구, 커트러리, 식기</span>','서울특별시 영등포구 당산동1가 134-1');
INSERT INTO PRODUCT VALUES(PRODUCT_SEQ.NEXTVAL, '2211653390','젊은이의 양지 쿠킹 스튜디오',SYSDATE,'01099999999','10000','<div>음식컨텐츠를 위한 키친렌탈스튜디오</div><div>38평 단독대관으로 한 번에 3가지 컨셉 공간을 이용 가능합니다.</div><div><br></div><div>푸드드스타일리스트가 요리컨텐츠를 만들어 오며, 작업 효율성을 고려해 기획한 공간입니다.</div><div>[2가지 컨셉의 키친]과 [다락방]이 있어 요리, 테이블세팅, 리빙 연출이 가능합니다.</div><div>공간 내부에 가벽이 없는 오픈 된 구조로, 여유로운 공간감으로 카메라 배치가 자유롭습니다.</div><div><br></div><div>#조리 시설 완비 #기본 조리도구 완비 #자연광 맛집</div>',' 서울시 합정동 368-27 2층');


-- BOOK
INSERT INTO BOOK VALUES (BOOK_SEQ.NEXTVAL, '1', 'id1', '예약할게요', '3', '쿠킹 실습 강의', '2023-09-21 07:00:00','2023-09-21 18:00:00','0','')
INSERT INTO BOOK VALUES (BOOK_SEQ.NEXTVAL, '2', 'id2', '생일파티하려고 합니다', '51', '파티', '0')
INSERT INTO BOOK VALUES (BOOK_SEQ.NEXTVAL, '3', 'id3', '스튜디오 촬영', '10', '촬영', '0')

-- PAYMENT
INSERT INTO PAYMENT p VALUES('218901269545','1', SYSDATE, '950000');
INSERT INTO PAYMENT p VALUES('456943752898','2', SYSDATE, '217000');
INSERT INTO PAYMENT p VALUES('889407980063','3', SYSDATE, '10000');

-- REFUND 
INSERT INTO REFUND r VALUES(REFUND_SEQ.NEXTVAL,'218901269545','950000',SYSDATE, '단순 변심','1')
INSERT INTO REFUND r VALUES(REFUND_SEQ.NEXTVAL,'456943752898','217000',SYSDATE, '약속이 취소되서 환불받고 싶습니다.','0')
INSERT INTO REFUND r VALUES(REFUND_SEQ.NEXTVAL,'889407980063','10000',SYSDATE, '상세 설명에 쓰인 내용이랑 다르게 공간이 너무 협소하고 실습에 쓰일 오븐은 고장나있어서 제대로 진행하지 못했습니다. 환불해주세요','1')

-- QUESTION 
INSERT INTO QUESTION VALUES(QUESTION_SEQ.NEXTVAL,'1','id1', '기타', '화구나 접시들은 얼마나 있나요?', SYSDATE)
INSERT INTO QUESTION VALUES(QUESTION_SEQ.NEXTVAL,'2','id2','기타','안녕하세요 저희는 그 곳에서 약 30~40명의 소모임을 진행하려고 하는 팀입니다 혹시 가능하면 사전답사가 가능할까요? 전화 기다리고 있겠습니다^^',sysdate)
INSERT INTO QUESTION VALUES(QUESTION_SEQ.NEXTVAL,'3','id3','가격문의','안녕하세요. 10월 29일(토) 15시~ 22시 정도까지 약 25명 ~ 30명 정도 사용 예정입니다. 주방 등도 사용 예정인데 혹시 예약이 가능할지와, 금액은 어떻게 될지 문의 드립니다. 또한 혹시 직접 연락을 한번 드리고 싶은데 가능할지도 문의 드립니다.',sysdate)

-- REVIEW 
INSERT INTO REVIEW VALUES(REVIEW_SEQ.NEXTVAL,'1','id4','5','따뜻한 분위기에 시설도 깔끔하고 좋아요! 오일부터 소금 등등 식자재, 식기구 다 있어서 재료만 챙겨가면 됩니다! 사장님도 친절하세요',sysdate)
INSERT INTO REVIEW VALUES(REVIEW_SEQ.NEXTVAL,'2','id5','4','많은 부분 배려해주셔서 잘 사용하고 갑니다!',sysdate)
INSERT INTO REVIEW VALUES(REVIEW_SEQ.NEXTVAL,'3','id6','5','잘사용하였습니다.시설이 언제나 깔끔해요',sysdate)

-- NOTICE
INSERT INTO NOTICE VALUES(NOTICE_SEQ.NEXTVAL,'admin68','서비스 일시 중지 안내 (9/23 목 09:00 ~ 20:00)','서버 점검으로 서비스가 일시 중지됩니다.서버 점검 시간 : 9/23(목) 09:00 ~ 20:00 긴급 요청은 02-6204-8398로 연락바랍니다. 불편을 드려 죄송합니다.',SYSDATE);
INSERT INTO NOTICE VALUES(NOTICE_SEQ.NEXTVAL,'admin68','[공지] 아이라이크키친 광복절(8/15, 화) 휴무 안내','안녕하세요. 아이라이크키친팀입니다. 8/15(화)광복절(휴무일)로 인한 아이라이크키친 고객센터 휴무 안내드립니다. 휴무일 동안 접수된 온라인 문의는 휴무일 다음 영업일부터 운영시간 내 순차적으로 답변드리겠습니다. 감사합니다.',SYSDATE);
INSERT INTO NOTICE VALUES(NOTICE_SEQ.NEXTVAL,'admin68','서비스 일시 중지 안내 (9/23 목 09:00 ~ 20:00)','서버 점검으로 서비스가 일시 중지됩니다.서버 점검 시간 : 9/23(목) 09:00 ~ 20:00 긴급 요청은 02-6204-8398로 연락바랍니다. 불편을 드려 죄송합니다.',SYSDATE);

-- SNSMEMBER
INSERT INTO SNSMEMBER VALUES ('444@naver.com','naver','장재환','JniivKbmXXfGRDrzzluewc2Ga7uK9_FyKdKaTzroW10')
INSERT INTO SNSMEMBER VALUES ('555@kakao.com','kakao','문선화','FMSGkg5mo2njhitibm3i54mgo4mdkmbi45mFqercoiv')
INSERT INTO SNSMEMBER VALUES ('666@naver.com','naver','신규하','9ktrmIRMBOIJMNOcxXC628TJjigjofkboMD5yDD0Glp')

-- PRODUCTFILE 
INSERT INTO PRODUCTFILE VALUES (FILE_SEQ.NEXTVAL,'1','b63be00b-365e-481c-9674-f79c15ca9773_midcentury1.jpg','midcentury1.jpg')
INSERT INTO PRODUCTFILE VALUES (FILE_SEQ.NEXTVAL,'2','96fb2033-2f0d-4346-b0dc-8e4b0649930b_midcentury2.jpg','midcentury2.jpg')
INSERT INTO PRODUCTFILE VALUES (FILE_SEQ.NEXTVAL,'3','51091efb-c0f9-4805-afb0-1f118162f68d_midcentury3.jpg','midcentury3.jpg')

-- NOTICEFILE
INSERT INTO NOTICEFILE VALUES (NFILE_SEQ.NEXTVAL,'1','8102ef94-1c84-4792-a10e-a1f72acf5de1_notice1.png','notice1.png')
INSERT INTO NOTICEFILE VALUES (NFILE_SEQ.NEXTVAL,'2','2545a93d-f9c2-4243-8901-9f7a33d2c31e_notice2.png','notice2.png')
INSERT INTO NOTICEFILE VALUES (NFILE_SEQ.NEXTVAL,'3','b90b84a4-2d6a-437f-83f6-623e2151e87d_notice3.png','notice3.png')

-- REVIEWFILE 
INSERT INTO REVIEWFILE VALUES (RFILE_SEQ.NEXTVAL,'1','9b083231-ccab-4383-83a4-14412e2d0a13_review1.png','review1.png')
INSERT INTO REVIEWFILE VALUES (RFILE_SEQ.NEXTVAL,'2','6948efa2-5da6-4c56-acc2-f995c7f7c86b_review2.png','review2.png')
INSERT INTO REVIEWFILE VALUES (RFILE_SEQ.NEXTVAL,'3','ff514c92-bac3-4635-8945-f5fa875a753e_review3.png','review3.png')
